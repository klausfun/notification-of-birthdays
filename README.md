# notification-of-birthdays
Сервис для поздравлений с днем рождения.

## Содержание
- [notification-of-birthdays](#notification-of-birthdays)
- [содержание](#содержание)
- [Архитектура](#архитектура)
- [Локальный запуск](#локальный-запуск)

## Архитектура

На данный момент реализована только серверная часть, написанная на Go. В проекте реализована "чистая архитектура" - есть 3 слоя: handler, service и repository. Handler работвет с http запросами, в service реализована бизнес логика, а в repository происходят запросы в БД.

Для проекта была выбрана монолитная архитектура, так как требовалось быстро создать рабочий прототип. В связи с этим есть ряд проблем и недостатков, одним из которых является "падение" отправки сообщения на почту с паникой, что влечет за собой "падение" всей программы. Это может быть связано, например, с неустойчивым интернет-соединением. Именно поэтому в дальнейшем планируется реализовать микросервисную архитектуру.

## Локальный запуск
Для развертывания сервиса необходимы [Docker](https://docs.docker.com/engine/install/)

**Важно:** Перед запуском убедитесь, что вы установили пароли. Для этого создайте файл .env в корневой директории и добавьте туда следующие строчки:\
`DB_PASSWORD=...`\
`GMAIL_PASSWORD=...`

1. `git clone --recurse-submodules https://github.com/klausfun/notification-of-birthdays`
2. `cd NotificationOfBirthdays`
3. `docker pull postgres` - для скачивания образа postgres
4. `docker run --name=notification-db -e POSTGRES_PASSWORD='qwerty' -p 5436:5432 -d --rm postgres` (вместо 'qwerty' необходимо указать Ваш пароль от БД)
5. `migrate -path ./schema -database 'postgres://postgres:qwerty@localhost:5436/postgres?sslmode=disable' up` (вместо 'qwerty' необходимо указать Ваш пароль от БД)